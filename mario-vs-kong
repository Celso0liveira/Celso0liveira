<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mini Game Mario vs Kong</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #87CEEB;
    }
    #game {
      position: relative;
      width: 100vw;
      height: 100vh;
      background: url('https://i.imgur.com/3e5bBvF.png') repeat-x;
      background-size: cover;
      overflow: hidden;
    }
    #mario {
      position: absolute;
      bottom: 0;
      left: 50px;
      width: 50px;
      height: 60px;
      background: url('https://i.imgur.com/RpOq3Se.png');
      background-size: cover;
    }
    .barrel {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 40px;
      height: 40px;
      background: url('https://i.imgur.com/MrG8JY7.png');
      background-size: cover;
    }
    #kong {
      position: absolute;
      top: 20px;
      right: 50px;
      width: 100px;
      height: 100px;
      background: url('https://i.imgur.com/3IuH5e5.png');
      background-size: cover;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="mario"></div>
    <div id="kong"></div>
  </div>

  <script>
    const game = document.getElementById("game");
    const mario = document.getElementById("mario");

    let isJumping = false;
    let gravity = 2;

    document.addEventListener("keydown", (e) => {
      if (e.code === "Space" && !isJumping) {
        jump();
      }
    });

    function jump() {
      isJumping = true;
      let upInterval = setInterval(() => {
        let marioBottom = parseInt(window.getComputedStyle(mario).bottom);
        if (marioBottom >= 200) {
          clearInterval(upInterval);
          let downInterval = setInterval(() => {
            marioBottom = parseInt(window.getComputedStyle(mario).bottom);
            if (marioBottom <= 0) {
              clearInterval(downInterval);
              isJumping = false;
            } else {
              mario.style.bottom = marioBottom - gravity + "px";
            }
          }, 20);
        } else {
          mario.style.bottom = marioBottom + gravity + "px";
        }
      }, 20);
    }

    function createBarrel() {
      const barrel = document.createElement("div");
      barrel.classList.add("barrel");
      barrel.style.right = "0px";
      game.appendChild(barrel);

      let moveInterval = setInterval(() => {
        let barrelRight = parseInt(barrel.style.right);
        if (barrelRight > window.innerWidth) {
          clearInterval(moveInterval);
          barrel.remove();
        } else {
          barrel.style.right = barrelRight + 5 + "px";
        }

        // Colis√£o
        let marioRect = mario.getBoundingClientRect();
        let barrelRect = barrel.getBoundingClientRect();
        if (
          marioRect.left < barrelRect.right &&
          marioRect.right > barrelRect.left &&
          marioRect.bottom > barrelRect.top
        ) {
          alert("Game Over!");
          window.location.reload();
        }
      }, 20);
    }

    setInterval(createBarrel, 2000);
  </script>
</body>
</html>
